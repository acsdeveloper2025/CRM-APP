-- Migration: Add Sample Pincode and Area Data
-- Description: Adds sample pincodes and areas for testing rate management
-- Created: 2025-08-17

-- First, let's check if we have countries, states, and cities
-- Insert sample countries if not exists
INSERT INTO countries (id, name, code, continent) VALUES
('550e8400-e29b-41d4-a716-446655440000', 'India', 'IN', 'Asia')
ON CONFLICT (name) DO NOTHING;

-- Insert sample states if not exists
INSERT INTO states (id, name, code, "countryId") VALUES
('550e8400-e29b-41d4-a716-446655440001', 'Maharashtra', 'MH', '550e8400-e29b-41d4-a716-446655440000'),
('550e8400-e29b-41d4-a716-446655440002', 'Karnataka', 'KA', '550e8400-e29b-41d4-a716-446655440000'),
('550e8400-e29b-41d4-a716-446655440003', 'Delhi', 'DL', '550e8400-e29b-41d4-a716-446655440000')
ON CONFLICT (name, "countryId") DO NOTHING;

-- Insert sample cities if not exists
INSERT INTO cities (id, name, "stateId", "countryId") VALUES 
('550e8400-e29b-41d4-a716-446655440010', 'Mumbai', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000'),
('550e8400-e29b-41d4-a716-446655440011', 'Pune', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000'),
('550e8400-e29b-41d4-a716-446655440012', 'Bangalore', '550e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440000'),
('550e8400-e29b-41d4-a716-446655440013', 'New Delhi', '550e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440000')
ON CONFLICT (name, "stateId") DO NOTHING;

-- Insert sample pincodes
INSERT INTO pincodes (id, code, area, "cityId") VALUES 
('550e8400-e29b-41d4-a716-446655440020', '400001', 'Fort', '550e8400-e29b-41d4-a716-446655440010'),
('550e8400-e29b-41d4-a716-446655440021', '400002', 'Kalbadevi', '550e8400-e29b-41d4-a716-446655440010'),
('550e8400-e29b-41d4-a716-446655440022', '400051', 'Bandra West', '550e8400-e29b-41d4-a716-446655440010'),
('550e8400-e29b-41d4-a716-446655440023', '411001', 'Pune Cantonment', '550e8400-e29b-41d4-a716-446655440011'),
('550e8400-e29b-41d4-a716-446655440024', '411038', 'Kothrud', '550e8400-e29b-41d4-a716-446655440011'),
('550e8400-e29b-41d4-a716-446655440025', '560001', 'Bangalore GPO', '550e8400-e29b-41d4-a716-446655440012'),
('550e8400-e29b-41d4-a716-446655440026', '560066', 'Whitefield', '550e8400-e29b-41d4-a716-446655440012'),
('550e8400-e29b-41d4-a716-446655440027', '110001', 'Connaught Place', '550e8400-e29b-41d4-a716-446655440013'),
('550e8400-e29b-41d4-a716-446655440028', '110016', 'Lajpat Nagar', '550e8400-e29b-41d4-a716-446655440013')
ON CONFLICT (code, "cityId") DO NOTHING;

-- Insert sample areas
INSERT INTO areas (id, name) VALUES 
('550e8400-e29b-41d4-a716-446655440030', 'Commercial District'),
('550e8400-e29b-41d4-a716-446655440031', 'Residential Area'),
('550e8400-e29b-41d4-a716-446655440032', 'Industrial Zone'),
('550e8400-e29b-41d4-a716-446655440033', 'IT Park'),
('550e8400-e29b-41d4-a716-446655440034', 'Shopping Complex'),
('550e8400-e29b-41d4-a716-446655440035', 'Business District'),
('550e8400-e29b-41d4-a716-446655440036', 'Tech Hub'),
('550e8400-e29b-41d4-a716-446655440037', 'Financial District'),
('550e8400-e29b-41d4-a716-446655440038', 'Government Area'),
('550e8400-e29b-41d4-a716-446655440039', 'Educational Zone')
ON CONFLICT (name) DO NOTHING;

-- Link pincodes with areas
INSERT INTO pincode_areas (id, "pincodeId", "areaId", "displayOrder") VALUES 
-- Mumbai Fort (400001)
('550e8400-e29b-41d4-a716-446655440040', '550e8400-e29b-41d4-a716-446655440020', '550e8400-e29b-41d4-a716-446655440030', 1),
('550e8400-e29b-41d4-a716-446655440041', '550e8400-e29b-41d4-a716-446655440020', '550e8400-e29b-41d4-a716-446655440037', 2),

-- Mumbai Kalbadevi (400002)
('550e8400-e29b-41d4-a716-446655440042', '550e8400-e29b-41d4-a716-446655440021', '550e8400-e29b-41d4-a716-446655440030', 1),
('550e8400-e29b-41d4-a716-446655440043', '550e8400-e29b-41d4-a716-446655440021', '550e8400-e29b-41d4-a716-446655440034', 2),

-- Mumbai Bandra West (400051)
('550e8400-e29b-41d4-a716-446655440044', '550e8400-e29b-41d4-a716-446655440022', '550e8400-e29b-41d4-a716-446655440031', 1),
('550e8400-e29b-41d4-a716-446655440045', '550e8400-e29b-41d4-a716-446655440022', '550e8400-e29b-41d4-a716-446655440034', 2),

-- Pune Cantonment (411001)
('550e8400-e29b-41d4-a716-446655440046', '550e8400-e29b-41d4-a716-446655440023', '550e8400-e29b-41d4-a716-446655440038', 1),
('550e8400-e29b-41d4-a716-446655440047', '550e8400-e29b-41d4-a716-446655440023', '550e8400-e29b-41d4-a716-446655440031', 2),

-- Pune Kothrud (411038)
('550e8400-e29b-41d4-a716-446655440048', '550e8400-e29b-41d4-a716-446655440024', '550e8400-e29b-41d4-a716-446655440031', 1),
('550e8400-e29b-41d4-a716-446655440049', '550e8400-e29b-41d4-a716-446655440024', '550e8400-e29b-41d4-a716-446655440039', 2),

-- Bangalore GPO (560001)
('550e8400-e29b-41d4-a716-446655440050', '550e8400-e29b-41d4-a716-446655440025', '550e8400-e29b-41d4-a716-446655440035', 1),
('550e8400-e29b-41d4-a716-446655440051', '550e8400-e29b-41d4-a716-446655440025', '550e8400-e29b-41d4-a716-446655440038', 2),

-- Bangalore Whitefield (560066)
('550e8400-e29b-41d4-a716-446655440052', '550e8400-e29b-41d4-a716-446655440026', '550e8400-e29b-41d4-a716-446655440033', 1),
('550e8400-e29b-41d4-a716-446655440053', '550e8400-e29b-41d4-a716-446655440026', '550e8400-e29b-41d4-a716-446655440036', 2),

-- Delhi Connaught Place (110001)
('550e8400-e29b-41d4-a716-446655440054', '550e8400-e29b-41d4-a716-446655440027', '550e8400-e29b-41d4-a716-446655440030', 1),
('550e8400-e29b-41d4-a716-446655440055', '550e8400-e29b-41d4-a716-446655440027', '550e8400-e29b-41d4-a716-446655440037', 2),

-- Delhi Lajpat Nagar (110016)
('550e8400-e29b-41d4-a716-446655440056', '550e8400-e29b-41d4-a716-446655440028', '550e8400-e29b-41d4-a716-446655440031', 1),
('550e8400-e29b-41d4-a716-446655440057', '550e8400-e29b-41d4-a716-446655440028', '550e8400-e29b-41d4-a716-446655440034', 2)

ON CONFLICT ("pincodeId", "areaId") DO NOTHING;

-- Add some comments
COMMENT ON TABLE pincodes IS 'Postal pincodes with city mapping for rate management';
COMMENT ON TABLE pincode_areas IS 'Junction table linking pincodes with specific areas for granular rate configuration';
